(function(t){function e(e){for(var a,s,c=e[0],o=e[1],l=e[2],v=0,p=[];v<c.length;v++)s=c[v],r[s]&&p.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push(["fc11","chunk-vendors"]),n()})({"14a4":function(t,e,n){"use strict";var a=n("a695"),r=n.n(a);r.a},"7fbf":function(t,e,n){},"8cc7":function(t,e,n){},a695:function(t,e,n){},abe9:function(t,e,n){"use strict";var a=n("ae88"),r=n.n(a);r.a},ae88:function(t,e,n){},d1d5:function(t,e,n){"use strict";var a=n("8cc7"),r=n.n(a);r.a},d2d7:function(t,e,n){"use strict";var a=n("7fbf"),r=n.n(a);r.a},fc11:function(t,e,n){"use strict";n.r(e);n("46a1"),n("450d");var a,r,i,s,c=n("e5f2"),o=n.n(c),l=(n("0fb7"),n("f529")),u=n.n(l),v=(n("b0ee"),n("d180")),p=n.n(v),d=(n("a335"),n("c0bb")),m=n.n(d),f=(n("915d"),n("e04d")),h=n.n(f),k=(n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),y=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),t._v(" "),n("router-view"),t._v(" "),t._m(1)],1)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h1",[t._v("v-track")]),t._v(" "),n("div",{staticClass:"command"},[t._v("yarn add v-track or npm add v-track --save")]),t._v(" "),n("nav",[n("a",{attrs:{href:"https://unpkg.com/v-track/dist/v-track.min.js"}},[n("img",{attrs:{src:"http://img.badgesize.io/https://unpkg.com/v-track/dist/v-track.min.js?compression=gzip&style=flat-square",alt:"Gzip Size"}})]),t._v(" "),n("a",{attrs:{href:"https://www.npmjs.com/package/v-track"}},[n("img",{attrs:{src:"https://img.shields.io/npm/v/v-track.svg?colorB=brightgreen&style=flat-square"}})]),t._v(" "),n("a",{attrs:{href:"https://github.com/facebook/jest"}},[n("img",{attrs:{src:"https://img.shields.io/badge/tested_with-jest-99424f.svg"}})]),t._v(" "),n("a",{attrs:{href:"http://hits.dwyl.io/l-hammer/v-track",alt:"hit count"}},[n("img",{attrs:{src:"http://hits.dwyl.io/l-hammer/v-track.svg"}})]),t._v(" "),n("a",{attrs:{href:"https://github.com/l-hammer/v-track"}},[n("img",{attrs:{src:"https://img.shields.io/github/stars/l-hammer/v-track.svg?style=social&label=Star"}})])]),t._v(" "),n("div",{staticClass:"description"},[t._v("\n      🕹一个基于Vue指令实现的埋点插件~\n    ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"footer"},[n("div",{staticClass:"section-content mini"},[t._v("\n      Copyright © 2019-present LHammer\n    ")])])}],b=(n("abe9"),n("2877")),_={},w=Object(b["a"])(_,g,C,!1,null,null,null),S=w.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-home page"},[n("section",{staticClass:"nav"},[n("router-link",{attrs:{to:{name:"STARTED"}}},[t._v("\n      快速开始\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"HOME"}}},[t._v("\n      事件行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"CUSTOM_EVENTS"}}},[t._v("\n      自定义事件埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"TRACK_VIEW"}}},[t._v("\n      页面行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"BLOCK_SHOW"}}},[t._v("\n      区域展现埋点\n    ")]),t._v(" "),n("a",{attrs:{href:"https://github.com/l-hammer/v-track/issues"}},[t._v("打开一个 issue")])],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个点击事件行为的埋点",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("div",{directives:[{name:"track",rawName:"v-track:18015.click",value:t.handleClick,expression:"handleClick",arg:"18015",modifiers:{click:!0}}],staticClass:"track-button"},[t._v("\n        click me\n      ")])])],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackClickSnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这个一个带参数点击事件行为的埋点，默认最后一个参数为event事件对象",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("div",{directives:[{name:"track",rawName:"v-track:18016.click",value:{handleClickWithParam:t.handleClickWithParam,item:t.item},expression:"{ handleClickWithParam, item }",arg:"18016",modifiers:{click:!0}}],staticClass:"track-button"},[t._v("\n        click me\n      ")])])],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackClickWithParamSnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"js",code:t.jsTrackClickWithParamSnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个发生在事件之后的埋点，默认先执行埋点再执行事件，如示例所示：index初始值为0，点击事件会将index加1，所以埋点获取到的index值应该为1，依次点击则累加",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("div",{directives:[{name:"track",rawName:"v-track:18017.click.delay",value:t.handleClickDelay,expression:"handleClickDelay",arg:"18017",modifiers:{click:!0,delay:!0}}],staticClass:"track-button"},[t._v("\n        click me\n      ")])])],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackClickDelaySnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"js",code:t.jsTrackClickDelaySnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个有异步行为的事件埋点，如示例所示：rest初始值为null，点击事件会fetch为success，所以埋点获取到的rest值应该为success",closable:!1}}),n("el-alert",{attrs:{center:"",type:"warning",title:"备注：修饰符 async 是基于 Vue 实例提供的 vm.$watch 方法，所以只有在返回结果 rest 发生变化时才会触发埋点",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("div",{directives:[{name:"track",rawName:"v-track:18018.click.async",value:{handleClickAsync:t.handleClickAsync,rest:t.rest},expression:"{ handleClickAsync, rest }",arg:"18018",modifiers:{click:!0,async:!0}}],staticClass:"track-button"},[t._v("\n        click me\n      ")])])],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackClickAsyncSnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"js",code:t.jsTrackClickAsyncSnippet}})],1)])},O=[],$=n("795b"),T=n.n($),j=(n("96cf"),n("3b8d")),x=n("f499"),P=n.n(x),M=n("0a0d"),A=n.n(M),N=(n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code-snippet"},[n("div",{staticClass:"language"},[t._v(t._s(t.lang))]),t._v(" "),n("div",{staticClass:"line-numbers"},t._l(t.lineCount,function(e){return n("div",{key:e,staticClass:"line-number"},[t._v(t._s(e))])}),0),t._v(" "),n("div",{staticClass:"render",domProps:{innerHTML:t._s(t.result)}})])}),V=[],H=n("1487"),D=n.n(H),W={name:"code-snippet",props:{code:String,lang:String},computed:{result:function(){var t=D.a.highlight(this.lang,this.code.trim());return t.value},lineCount:function(){for(var t=this.result,e=0,n=0;n<t.length;++n)"\n"===t[n]&&e++;return e+1}}},R=W,B=(n("d2d7"),Object(b["a"])(R,N,V,!1,null,null,null)),L=B.exports,U='\n<div class="track-button" v-track:18015.click="handleClick">click me</div>\n',I='\n<div class="track-button" v-track:18016.click="{ handleClickWithParam, item }">click me</div>\n',F="\nexport default {\n  data: () => ({\n    item: {\n      id: Date.now().toString(36)\n    },\n  })\n}\n",K='\n<div class="track-button" v-track:18017.click.delay="handleClickWithParam">click me</div>\n',G="\nexport default {\n  data() {\n    return {\n      index: 0\n    };\n  },\n  methods: {\n    handleClickDelay() {\n      this.index++;\n    },\n  }\n}\n",z='\n<div class="track-button" v-track:18018.click.delay="handleClickAsync">click me</div>\n',Y='\nexport default {\n  data() {\n    return {\n      rest: null\n    };\n  },\n  methods: {\n    async handleClickAsync() {\n      const response = await new Promise(resolve => {\n        setTimeout(() => {\n          resolve({ data: "success" });\n          this.$message.success("异步事件返回成功");\n        }, 300);\n      });\n      this.rest = response.data;\n    }\n  }\n}\n',q={name:"Home",components:{CodeSnippet:L},data:function(){return{trackClickSnippet:U,trackClickWithParamSnippet:I,jsTrackClickWithParamSnippet:F,trackClickDelaySnippet:K,trackClickAsyncSnippet:z,jsTrackClickDelaySnippet:G,jsTrackClickAsyncSnippet:Y,item:{id:A()().toString(36)},index:0,rest:null}},methods:{handleClick:function(){this.$message.success("事件执行成功")},handleClickWithParam:function(t,e){var n=e.target;this.$message.success("事件执行成功，参数为".concat(P()(t),"--").concat(n))},handleClickDelay:function(){this.index++},handleClickAsync:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new T.a(function(t){setTimeout(function(){t({data:"success"}),n.$message.success("异步事件返回成功")},300)});case 2:e=t.sent,this.rest=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},J=q,Q=(n("d1d5"),Object(b["a"])(J,E,O,!1,null,"256fe2db",null)),X=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-started page"},[n("section",{staticClass:"nav"},[n("router-link",{attrs:{to:{name:"HOME"}}},[t._v("\n      返回\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"HOME"}}},[t._v("\n      事件行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"CUSTOM_EVENTS"}}},[t._v("\n      自定义事件埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"TRACK_VIEW"}}},[t._v("\n      页面行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"BLOCK_SHOW"}}},[t._v("\n      区域展现埋点\n    ")]),t._v(" "),n("a",{attrs:{href:"https://github.com/l-hammer/v-track/issues"}},[t._v("打开一个 issue")])],1),t._v(" "),t._m(0),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{code:t.eventsSnippet,lang:"js"}}),t._v(" "),n("div",{staticClass:"plus"},[t._v("+")]),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{code:t.mainSnippet,lang:"js"}}),t._v(" "),n("div",{staticClass:"plus"},[t._v("+")]),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{code:t.componentSnippet,lang:"html"}})],1)])},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"snippets"},[n("div",{staticClass:"section-content small"},[t._v("\n      完整示例可参考\n      "),n("a",{attrs:{href:"https://github.com/l-hammer/v-track/tree/master"}},[t._v("GitHub")])])])}],et='\nimport trackAction from "./action";\n\nexport default {\n  /**\n   * @name UVPV 固定名称不支持修改\n   * @desc UV、PV埋点\n   */\n  UVPV() {\n    trackAction("1");\n  },\n  /**\n   * @name TONP 固定名称不支持修改\n   * @desc 页面停留时间埋点（Time on Page）\n   * @param {String} stt 进入页面时长，单位为秒\n   */\n  TONP({ stt }) {\n    trackAction("2", { stt });\n  },\n  /**\n   * @desc 测试埋点\n   * @param {*} { $route: { name } }\n   * @param {*} { item: { id, level4Tag }, index }\n   */\n  19058(\n    {\n      $route: { name }\n    },\n    {\n      item: { id },\n      index\n    }\n  ) {\n    trackAction("19058", {\n      knowledge_id: id, // 知识ID\n      click_position: index + 1, // 点击位置\n      source_page: name // 页面来源\n    });\n  }\n};\n',nt='\nimport Vue from "vue";\nimport VTrack from "v-track";\nimport trackEvents from "./tracks";\n\nVue.use(VTrack, {\n  trackEvents, // 埋点事件对象\n  trackEnable: {\n    UVPV: false, // 是否开启UVPV统计，默认为false\n    TONP: true // 是否开启页面停留时长统计，默认为false\n  }\n})\n',at='\n\x3c!-- 页面行为埋点（track-view为v-track全局注册的组件） --\x3e\n<track-view v-track:18015></track-view>\n<track-view v-track:18015.watch="{ result }"></track-view>\n<track-view v-track:18015.watch.delay="{ result }"></track-view>\n<track-view v-if="result" v-track:18015></track-view>\n\n\x3c!-- 事件行为埋点（DOM） --\x3e\n<div v-track:18015.click="handleClick"></div>\n<div v-track:18015.click="{ handleClick, item, index }"></div>\n<div v-track:18015.click.async="{ handleSearch, rest }"></div>\n<div v-track:18015.click.delay="handleClick"></div>\n\n\x3c!-- 事件行为埋点（组件） --\x3e\n<cmp v-track:18015.click="handleClick"></cmp>\n<cmp v-track:18015.[自定义事件名]="handleSearch"></cmp>\n<cmp v-track:18015.[自定义事件名].delay="handleSearch"></cmp>\n<cmp v-track:18015.[自定义事件名].async="{ handleSearch, rest }"></cmp>\n\n\x3c!-- 区域展现埋点（block 可以是 DOM 或者组件） --\x3e\n<block v-track:18015.show></block>\n<block v-track:18015.show.once></block>\n<block v-track:18015.show.custom="{ ref: \'scroll\' }"></block>\n<block v-track:18015.show.custom.once="{ ref: \'scroll\' }"></block>\n',rt={name:"Started",components:{CodeSnippet:L},data:function(){return{mainSnippet:nt,eventsSnippet:et,componentSnippet:at}}},it=rt,st=Object(b["a"])(it,Z,tt,!1,null,null,null),ct=st.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-home page"},[n("section",{staticClass:"nav"},[n("router-link",{attrs:{to:{name:"STARTED"}}},[t._v("\n      快速开始\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"HOME"}}},[t._v("\n      事件行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"HOME"}}},[t._v("\n      返回\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"TRACK_VIEW"}}},[t._v("\n      页面行为埋点\n    ")]),t._v(" "),n("router-link",{attrs:{to:{name:"BLOCK_SHOW"}}},[t._v("\n      区域展现埋点\n    ")]),t._v(" "),n("a",{attrs:{href:"https://github.com/l-hammer/v-track/issues"}},[t._v("打开一个 issue")])],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个自定义事件行为埋点",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("Button",{directives:[{name:"track",rawName:"v-track:18015.custom-event",value:t.handleCustomEvent,expression:"handleCustomEvent",arg:"18015",modifiers:{"custom-event":!0}}]})],1)],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.ButtonComponentSnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackCustomEventSnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个有带参数的自定义事件埋点",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("Button",{directives:[{name:"track",rawName:"v-track:18019.custom-event",value:t.handleCustomEventWithParam,expression:"handleCustomEventWithParam",arg:"18019",modifiers:{"custom-event":!0}}]})],1)],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.ButtonComponentWithParamSnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackCustomEventWithParamSnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个发生在自定义事件之后的埋点，默认先执行埋点再执行自定义事件。如示例所示：activeName初始值为Feedback，自定义事件会更新该值，所以埋点获取到activeName的值应为当前激活面板的name",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content collapse-wrapper"},[n("el-collapse",{directives:[{name:"track",rawName:"v-track:18020.change.delay",value:t.handleChange,expression:"handleChange",arg:"18020",modifiers:{change:!0,delay:!0}}],attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-collapse-item",{attrs:{title:"反馈 Feedback",name:"Feedback"}},[n("div",[t._v("\n            控制反馈：通过界面样式和交互动效让用户可以清晰的感知自己的操作；\n          ")]),t._v(" "),n("div",[t._v("页面反馈：操作后，通过页面元素的变化清晰地展现当前状态。")])]),t._v(" "),n("el-collapse-item",{attrs:{title:"效率 Efficiency",name:"Efficiency"}},[n("div",[t._v("简化流程：设计简洁直观的操作流程；")]),t._v(" "),n("div",[t._v("\n            清晰明确：语言表达清晰且表意明确，让用户快速理解进而作出决策；\n          ")]),t._v(" "),n("div",[t._v("\n            帮助用户识别：界面简单直白，让用户快速识别而非回忆，减少用户记忆负担。\n          ")])]),t._v(" "),n("el-collapse-item",{attrs:{title:"可控 Controllability",name:"Controllability"}},[n("div",[t._v("\n            用户决策：根据场景可给予用户操作建议或安全提示，但不能代替用户进行决策；\n          ")]),t._v(" "),n("div",[t._v("\n            结果可控：用户可以自由的进行操作，包括撤销、回退和终止当前操作等。\n          ")])])],1)],1)],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackCustomEventDelaySnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"js",code:t.jsTrackCustomEventDelaySnippet}})],1),t._v(" "),n("section",{staticClass:"demo"},[n("el-alert",{attrs:{center:"",type:"info",title:"这是一个有异步行为的自定义事件埋点。如示例所示：rest初始值为null，自定义事件会fetch为success，所以埋点获取到的rest值应该为success",closable:!1}}),n("el-alert",{attrs:{center:"",type:"warning",title:"备注：同普通DOM事件埋点一样，只有在 rest 发生变化时才会触发埋点",closable:!1}}),t._v(" "),n("div",{staticClass:"section-content"},[n("Button",{directives:[{name:"track",rawName:"v-track:18021.custom-event.async",value:{fetchRest:t.fetchRest,rest:t.rest},expression:"{ fetchRest, rest }",arg:"18021",modifiers:{"custom-event":!0,async:!0}}]})],1)],1),t._v(" "),n("section",{staticClass:"snippets"},[n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"html",code:t.trackCustomEventAsyncSnippet}}),t._v(" "),n("CodeSnippet",{staticClass:"snippet",attrs:{lang:"js",code:t.jsTrackCustomEventAsyncSnippet}})],1)])},lt=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"track-button",on:{click:function(e){return t.$emit("custom-event",t.item,e)}}},[t._v("\n  click me\n")])},vt=[],pt={computed:{item:function(){return{id:A()().toString(36)}}}},dt=pt,mt=Object(b["a"])(dt,ut,vt,!1,null,null,null),ft=mt.exports,ht='\n\x3c!-- button 组件 --\x3e\n<div class="track-button" @click="$emit(\'custom-event\')">\n  click me\n</div>\n',kt='\n\x3c!-- button 组件 --\x3e\n<div class="track-button" @click="e => $emit(\'custom-event\', { id: Date.now().toString(36) }, e)">\n  click me\n</div>\n',yt='\n<Button v-track:18015.custom-event="handleCustomEvent"></Button>\n',gt='\n<Button v-track:18019.custom-event="handleCustomEventWithParam"></Button>\n',Ct='\n<el-collapse\n  accordion\n  v-model="activeName"\n  v-track:18020.change.delay="handleChange"\n>\n  <el-collapse-item title="反馈" name="Feedback">...</el-collapse-item>\n  <el-collapse-item title="效率" name="Efficiency">...</el-collapse-item>\n  <el-collapse-item title="可控" name="Controllability">...</el-collapse-item>\n</el-collapse>\n',bt='\nexport default {\n  data() {\n    return {\n      activeName: "Feedback",\n    };\n  },\n  methods: {\n    handleChange(val) {\n      this.activeName = val;\n    }\n  }\n}\n',_t='\n<Button v-track:18021.custom-event.async="{ fetchRest, rest }"></Button>\n',wt='\nexport default {\n  data() {\n    return {\n      rest: null\n    };\n  },\n  methods: {\n    async fetchRest() {\n      const response = await new Promise(resolve => {\n        setTimeout(() => {\n          resolve({ data: "success" });\n          this.$message.success("异步事件返回成功");\n        }, 300);\n      });\n      this.rest = response.data;\n    }\n  }\n}\n',St={name:"Home",components:{Button:ft,CodeSnippet:L},data:function(){return{ButtonComponentSnippet:ht,ButtonComponentWithParamSnippet:kt,trackCustomEventSnippet:yt,trackCustomEventWithParamSnippet:gt,trackCustomEventDelaySnippet:Ct,trackCustomEventAsyncSnippet:_t,jsTrackCustomEventDelaySnippet:bt,jsTrackCustomEventAsyncSnippet:wt,item:{id:Math.random().toString(36).substr(2)},activeName:"Feedback",rest:null}},methods:{handleCustomEvent:function(){this.$message.success("自定义事件执行成功")},handleCustomEventWithParam:function(t,e){var n=e.target;this.$message.success("自定义事件执行成功，参数为".concat(P()(t),"--").concat(n))},handleChange:function(t){this.activeName=t},fetchRest:function(){var t=Object(j["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new T.a(function(t){setTimeout(function(){t({data:"success"}),n.$message.success("异步事件返回成功")},300)});case 2:e=t.sent,this.rest=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},Et=St,Ot=(n("14a4"),Object(b["a"])(Et,ot,lt,!1,null,"f7e8296e",null)),$t=Ot.exports,Tt={},jt=Object(b["a"])(Tt,a,r,!1,null,null,null),xt=jt.exports,Pt={},Mt=Object(b["a"])(Pt,i,s,!1,null,null,null),At=Mt.exports;function Nt(t){return Nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Dt(t,e,n){return e&&Ht(t.prototype,e),n&&Ht(t,n),t}function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){Wt(t,e,n[e])})}return t}function Bt(t,e){return It(t)||Kt(t,e)||zt()}function Lt(t){return Ut(t)||Ft(t)||Gt()}function Ut(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function It(t){if(Array.isArray(t))return t}function Ft(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Kt(t,e){var n=[],a=!0,r=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)if(n.push(s.value),e&&n.length===e)break}catch(o){r=!0,i=o}finally{try{a||null==c["return"]||c["return"]()}finally{if(r)throw i}}return n}function Gt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function zt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Yt=function(t){return"function"===typeof t||!1},qt=function(t){return void 0===t||null===t},Jt=function(t){return void 0!==t&&null!==t},Qt=!0;function Xt(t){return[Object.values(t),Object.keys(t)]}function Zt(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){for(var a=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(e),e=setTimeout(function(){return t.apply(a,i)},n)}}function te(t,e){var n=Object.keys(t);return n.length===e.length&&e.every(function(t){return n.includes(t)})}function ee(t,e){var n=Object.keys(t);return e.some(function(t){return n.includes(t)})}function ne(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&Jt(t.data)===Jt(e.data)}function ae(t,e){if(!ne(t,e))return!1;var n=e.children,a=t.children;if(qt(t.text)&&Jt(n)&&Jt(a)){if(n.length!==a.length)return!1;for(var r=0;r<a.length;r++){var i=a[r];if(Jt(i)&&Jt(n[r]))return ae(i,n[r])}}else if(t.text!==e.text)return!1;return!0}var re=function(t){if(!Qt&&!Yt(t))throw new Error("第一个参数应该为 Function~")},ie=function(t){if(!Qt)throw new Error("".concat(t,"指令暂不支持"))},se=function(t){return t&&1===t.nodeType};function ce(t,e){return window.getComputedStyle(t).getPropertyValue(e)}function oe(t,e){return!(!t||t.width<=0||t.height<=0)&&(t.bottom>0&&t.right>0&&t.top<e.height&&t.left<e.width)}function le(t){if(t===window.document)return!0;if(!t||!t.parentNode)return!1;var e=t.parentNode,n=ce(t,"visibility"),a=ce(t,"display");return"hidden"!==n&&"none"!==a&&(!e||le(e))}var ue=function(){function t(e,n){if(Vt(this,t),!se(e))throw new Error("not an element node");this.ele=e,this.ref=n,this.started=!1,this.listeners={},this.removeScrollLisener=null,this.init()}return Dt(t,[{key:"init",value:function(){var t=this;this.started||(this.removeScrollLisener=function(e){return t.ref?t.ref.$on("scroll",e):(window.addEventListener("scroll",e,!1),function(){return window.removeEventListener("scroll",e,!1)})}(Zt(this.visibilitychange.bind(this))),this.started=!0)}},{key:"$on",value:function(t,e){var n=this.listeners[t]||(this.listeners[t]=[]);return n.push(e),this}},{key:"$off",value:function(t,e){if(e){var n,a=this.listeners[t],r=a.length;while(r--)if(n=a[r],n===e||n.cbk===e){a.splice(r,1);break}return this}}},{key:"$once",value:function(t,e){var n=this,a=function a(){n.$off(t,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];e.apply(n,i)};return a.cbk=e,this.$on(t,a),this}},{key:"$emit",value:function(t){for(var e=this,n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var i=this.listeners[t]||[];return i.forEach(function(t){return t.apply(e,a)}),this}},{key:"visibilitychange",value:function(){var t=this.ele.getBoundingClientRect(),e={height:window.innerHeight,width:window.innerWidth};if(!oe(t,e)||!le(this.ele))return 0;var n=0,a=0,r=0;t.top>=0?n=Math.min(t.height,e.height-t.top):t.bottom>0&&(n=Math.min(e.height,t.bottom)),t.left>=0?a=Math.min(t.width,e.width-t.left):t.right>0&&(a=Math.min(e.width,t.right)),r=n*a/(t.height*t.width),1===r&&this.$emit("fullyvisible")}},{key:"destroy",value:function(){Yt(this.removeScrollLisener)&&this.removeScrollLisener()}}]),t}(),ve=["async","delay","watch","show","once","custom"];function pe(t,e,n,a){var r=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};t.$unwatch=a.$watch(function(){return a[e]},function(e,a){e!==a&&(i.immediate||t.contains(r.target))&&n(),r.target=null})}function de(t,e,n,a,r,i){var s=this,c=e.value,o=e.arg,l=e.modifiers,u=e.rawName,v=n.context,p=n.componentInstance;if(!i[o])throw new Error("埋点参数不存在哇");var d=[],m=i[o].bind(null,v),f=function(e,n,a){return pe.call(s,t,e,n,v,a)},h=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return te.call(null,l,e)},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ee.call(null,l,e)};if(Object.keys(l).length)if(h("watch")){var y=Object.keys(c).shift();f(y,m,{immediate:!0})}else if(h("delay"))t.$timer&&clearTimeout(t.$timer),t.$timer=setTimeout(function(){i[o](v)},c);else if(h("watch","delay")){var g=Lt(Object.keys(c)).pop();m=function(){t.$timer&&clearTimeout(t.$timer),t.$timer=setTimeout(function(){var t=le(v.$el);t&&i[o](v)},c.delay)},f(g,m,{immediate:!0})}else if(k("show")){var C=function(){return i[o](v)},b=k("once"),_=k("custom");if(!t.$visMonitor){var w=new ue(t,_&&v.$refs[c.ref]);(b?w.$once:w.$on).call(w,"fullyvisible",C),t.$visMonitor=w}}else if(!p&&l.click){switch(Nt(c)){case"object":var S=Xt(c),E=Bt(S,2),O=E[0],$=E[1],T=O.shift(),j=Lt($).pop(),x=$.slice(1).reduce(function(t,e){return t[e]=c[e],t},{});re(T),m=i[o].bind(null,v,x),d=[m,T.bind.apply(T,[null].concat(Lt(O)))],l.delay&&d.reverse(),l.async&&f(j,d.shift());break;case"function":d=[m,c],l.delay&&d.reverse();break}t.$listener=function(t){s.target=t.target,d.forEach(function(e){return e(t)})},t.addEventListener("click",t.$listener)}else if(p&&p.$el===t){var P,M,A,N,V=Object.keys(l).filter(function(t){return!ve.includes(t)}).pop();if("object"===Nt(c)){var H=Xt(c),D=Bt(H,2);P=D[0],M=D[1],A=P.shift(),N=Lt(M).pop(),re(A)}if(t["$on_".concat(V)])return;p.$on(V,function(){var e,n;s.target=t;for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];m=(e=i[o]).bind.apply(e,[null,v].concat(r)),d=[m,(n=A||c).bind.apply(n,[null].concat(r))],l.delay&&d.reverse(),l.async&&f(N,d.shift()),d.forEach(function(t){return t()}),t["$on_".concat(V)]=!0})}else ie(u);else i[o](v,c)}function me(t){if(t.$listener){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];ae(n[1],n[2])||(fe.call(this,t),de.call.apply(de,[this,t].concat(n)))}}function fe(t){t.$listener&&t.removeEventListener("click",t.$listener),t.$timer&&clearTimeout(t.$timer),t.$unwatch&&t.$unwatch(),t.$visMonitor&&t.$visMonitor.destroy()}var he=function(){function t(){Vt(this,t),this.installed=!1,this.curPage=null}return Dt(t,null,[{key:"install",value:function(t,e){var n=this,a=e.trackEvents,r=e.trackEnable,i=void 0===r?{}:r,s=this;i=Rt({UVPV:!1,TONP:!1},i);var c=function(t){i.TONP&&a.TONP({stt:"".concat((Date.now()-t)/1e3,"s")})};this.installed||(this.installed=!0,t.directive("track",{bind:function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=de).call.apply(t,[n].concat(r,[a]))},componentUpdated:function(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(t=me).call.apply(t,[n].concat(r,[a]))},unbind:function(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(t=fe).call.apply(t,[n].concat(a))}}),t.component("TrackView",{render:function(t){return t("span",{style:"display: none"})}}),t.mixin({data:function(){return{PAGE_ENTER_TIME:Date.now()}},created:function(){var t=this;window.onbeforeunload=function(){return c(t.PAGE_ENTER_TIME)}},beforeRouteEnter:function(t,e,n){t.name===s.curPage?n():(s.curPage=t.name,i.UVPV&&a.UVPV(),n())},beforeRouteLeave:function(t,e,n){c(this.PAGE_ENTER_TIME),n()}}))}}]),t}();Wt(he,"target",null);var ke=he,ye=n("cebc"),ge=(n("7f7f"),n("386d"),n("a481"),/\d\d?/),Ce=/\d{4}/,be=/d{1,2}|M{1,2}|yy(?:yy)?|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,_e={default:"yyyy-MM-dd HH:mm:ss",date:"yyyy-MM-dd",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",year:"yyyy",enDate:"M/d/yy",cnDate:"yyyy 年 MM 月 dd 日"},we=function(t,e){t=String(t),e=e||2;while(t.length<e)t="0".concat(t);return t},Se={yyyy:function(t){return we(t.getFullYear(),4)},yy:function(t){return String(t.getFullYear()).substr(2)},M:function(t){return t.getMonth()+1},MM:function(t){return we(t.getMonth()+1)},d:function(t){return t.getDate()},dd:function(t){return we(t.getDate())},h:function(t){return t.getHours()%12||12},hh:function(t){return we(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return we(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return we(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return we(t.getSeconds())}},Ee=function(t,e){if("number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in date.format");return e=_e[e]||e||_e.default,e=e.replace(be,function(e){return e in Se?Se[e](t):e.slice(1,e.length-1)}),e},Oe={yyyy:[Ce,function(t,e){t.year=e}],yy:[ge,function(t,e){var n=new Date,a=+"".concat(n.getFullYear()).substr(0,2);t.year="".concat(e>68?a-1:a).concat(e)}],M:[ge,function(t,e){t.month=e-1}],d:[ge,function(t,e){t.day=e}],h:[ge,function(t,e){t.hour=e}],m:[ge,function(t,e){t.minute=e}],s:[ge,function(t,e){t.second=e}]};Oe.MM=Oe.M,Oe.dd=Oe.d,Oe.hh=Oe.h,Oe.H=Oe.h,Oe.HH=Oe.h,Oe.mm=Oe.m,Oe.ss=Oe.s;var $e=n("a4bb"),Te=n.n($e),je=function(t){var e=Te()(t).reduce(function(e,n){return e.push({key:n,val:t[n]}),e},[]),n=e.map(function(t){var e=t.key,n=t.val;return'\n        <div class="row">\n          <span>'.concat(e,"</span>\n          <span>").concat(n,"</span>\n        </div>\n      ")}).join("");return'\n    <section class="v-track-table">\n      <div class="header">\n        <strong>key</strong>\n        <strong>value</strong>\n      </div>\n      '.concat(n,"\n    </section>\n  ")};function xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(ye["a"])({evt:t},e,{action_time:Ee(A()())});"1"===t&&u()("统计UVPV埋点"),"2"===t&&u()({message:"统计页面停留时间埋点",customClass:"message-offset"}),o.a.success({title:"上报数据如下：",dangerouslyUseHTMLString:!0,message:je(n),customClass:"notification__large",position:"1"===t||"2"===t?"top-left":"top-right",offset:"2"===t?198:0})}var Pe={UVPV:function(){xe("1")},TONP:function(t){var e=t.stt;xe("2",{stt:e})},18015:function(t){var e=t.$route.name;xe("18015",{source_page:e})},18016:function(t,e,n){var a=t.$route.name,r=e.item.id,i=n.target;xe("18016",{id:r,source_page:a,target:i})},18017:function(t){var e=t.index,n=t.$route.name;xe("18017",{source_page:n,index:e})},18018:function(t){var e=t.rest,n=t.$route.name;xe("18018",{source_page:n,rest:e})},18019:function(t,e,n){var a=t.$route.name,r=e.id,i=n.target;xe("18019",{id:r,source_page:a,target:i})},18020:function(t){var e=t.activeName,n=t.$route.name;xe("18020",{source_page:n,active_name:e})},18021:function(t){var e=t.rest,n=t.$route.name;xe("18021",{source_page:n,rest:e})}},Me=Object(ye["a"])({},Pe);k["default"].use(y["a"]),k["default"].use(h.a),k["default"].use(m.a),k["default"].use(p.a),k["default"].use(ke,{trackEvents:Me,trackEnable:{UVPV:!0,TONP:!0}}),k["default"].prototype.$message=u.a,k["default"].prototype.$notify=o.a;var Ae=new y["a"]({routes:[{path:"/",name:"HOME",component:X},{path:"/started",name:"STARTED",component:ct},{path:"/custom-events",name:"CUSTOM_EVENTS",component:$t},{path:"/track-view",name:"TRACK_VIEW",component:xt},{path:"/block-show",name:"BLOCK_SHOW",component:At},{path:"*",redirect:"/"}]});new k["default"]({el:"#app",router:Ae,render:function(t){return t(S)}})}});
//# sourceMappingURL=app.f9cb08df.js.map